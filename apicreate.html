<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Data</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    </head>

<body>
    <div class="row">
        <div class="col-4"></div>
        <div class="col-4">
            <div class="container">
                <h2>Create New User</h2><br><br>
                <form action="">
                    <label for="">Title</label>
                    <input type="text" class="form-control" id="tit"><br>
                    <label for="">Body</label>
                    <input type="text" class="form-control" id="bdy"><br>
                    <label for="">UserId</label>
                    <input type="text" class="form-control" id="uid"><br><br>
                    <button type="button" class="btn btn-primary" onclick="createPost()">Create ID</button>
                </form>
            </div>
        </div>
        <div class="col-4"></div>
    </div>
</body>
<script>
    function createPost() {
        var title = document.querySelector("#tit").value
        var body = document.querySelector("#bdy").value
        var uid = document.querySelector("#uid").value
        console.log(title,body,uid)

        var newpost = {
            title: title,
            body :body,
            userId: uid
        }

        sendData(newpost)
    }


    const xhr = new XMLHttpRequest();
    // var xhr = new XMLHttpRequest();

    xhr.open("post", "https://jsonplaceholder.typicode.com/posts")
    function sendData(newpost) {
        xhr.send(newpost)
    }
    xhr.onreadystatechange = () => {
        if (xhr.readyState == 4) {
            if ((xhr.status >= 200) & (xhr.status < 300)) {
                console.log("Success")
                console.log(xhr.status)
                swal("Good job!", "The post is recorded", "Success");
                //alert(xhr.responseText)
                var post=JSON.stringify(xhr.responseText)
                console.log(post)
            }
            else {
                console.log(xhr.status)
            }
            console.log("Task Complete")
        }
    }

</script>

</html>